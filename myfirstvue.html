<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type" />
    <title>Untitled</title>
    <meta name="description" content="This is an example of a meta description.">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>

    <style>
      .board {
        padding: 0;
      }
      .square {
        width: 50px;
        padding: 25px 0;
        text-align: center;
        border: 1px solid black;
        list-style-type: none;
        float: left;
      }
      .square:nth-child(3n+1) {
        clear: both;
      }
    </style>

  </head>
  <body>

<div id="app">
  <board
    v-bind:squares="squares"
  ></board>
</div>
		
  </body>
  <script type="text/javascript">

    Vue.component('square', {
      props: ['val','tellBoard', 'getCurrentPlayer', 'index'],
      template:`
        <li v-html="val" class="square" v-on:click="onClick"></li>
      `,
      methods: {
        onClick: function () {
          this.val = this.getCurrentPlayer();
          this.tellBoard(this.index);
        }
      }
    });

    Vue.component('board', {
      props: ['squares'],
      data: () => {
        return {
          currentPlayer: 'x'
        }
      },
      template:`
        <ol class="board">
          <square
            v-for="(val, index) in squares" :key="index"
            v-bind:val="val"
            v-bind:index="index"
            v-bind:tellBoard="squareClicked"
            v-bind:getCurrentPlayer="getCurrentPlayer"
          ></square>
        </ol>
      `,
      methods: {
        getCurrentPlayer: function () {
          return this.currentPlayer;
        },
        squareClicked: function () {
          this.switchPlayer();
          return;
        },
        switchPlayer: function () {
          this.currentPlayer = this.currentPlayer === 'x' ? 'o' : 'x';
          return;
        },
      }
    });

var app = new Vue({
  el: '#app',
  data: {
    squares: ['&nbsp;','&nbsp;','&nbsp;','&nbsp;','&nbsp;','&nbsp;','&nbsp;','&nbsp;','&nbsp;']
  }
})


  </script>
</html>